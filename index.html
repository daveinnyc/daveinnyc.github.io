<html>
<head>
<title>sp javascript collector end point</title>

<!-- Snowplow starts plowing -->
//<script type="text/javascript">
//var spSrc = ('https:' == document.location.protocol ? 'https' : 'http') + '://d1fc8wv8zag5ca.cloudfront.net/2.10.2/sp.js';
//document.write(unescape("%3Cscript src='" + spSrc + "' type='text/javascript'%3E%3C/script%3E"));
</script>

<script type="text/javascript">
(function(p,l,o,w,i,n,g){
    if(!p[i]){
      p.GlobalSnowplowNamespace=p.GlobalSnowplowNamespace||[];
      p.GlobalSnowplowNamespace.push(i);
      p[i]=function(){
         (p[i].q=p[i].q||[]).push(arguments)
      };
      p[i].q=p[i].q||[];
      n=l.createElement(o);
      g=l.getElementsByTagName(o)[0];
      n.async=1;
      n.src=w;
      g.parentNode.insertBefore(n,g)
    }
  }
  (window,document,"script","https://d1fc8wv8zag5ca.cloudfront.net/2.10.2/sp.js","snowplow")
);


// window.snowplow('newTracker', 'cf', '{{MY-COLLECTOR-URI}}', { 
//   changed app id from cf to dave
//   creted fake collector endpoint
window.snowplow('newTracker', 'dave', '192.168.1.100', { // Initialise a tracker
  appId: '{{MY-SITE-ID}}',
  cookieDomain: '{{MY-COOKIE-DOMAIN}}'
  }
);

window.snowplow('trackPageView');
window.snowplow('enableLinkClickTracking');
</script>
<!-- Snowplow stops plowing -->
</head>

<body>
<p>Hola! 3000</p>
<a href="" onclick="snowplow('trackStructEvent', 'categoryVal', 'actionVal', 'labelVal', 'propertyVal', '001')">LINK</a>

<!-- Links to check link checking works -->
<ul>
  <li><a href="http://www.google.com">google</a>  This will redirect to google.com</li>
  <li><a href="https://bbc.com">bbc</a>  This has no redirect</li>
  <li><a href="https://thiswillfail.nope">fail</a>  This link will fail</li>
  <li><a href="http://">debug</a>  This will not find it's target</li>
</ul>



</body>
</html>
